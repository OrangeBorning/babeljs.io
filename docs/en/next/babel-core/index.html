<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>babel-core · Babel</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="```javascript"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="babel-core · Babel"/><meta property="og:type" content="website"/><meta property="og:url" content="https://babeljs.io/index.html"/><meta property="og:description" content="```javascript"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css"/><link rel="alternate" type="application/atom+xml" href="https://babeljs.io/blog/atom.xml" title="Babel Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://babeljs.io/blog/feed.xml" title="Babel Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-114990275-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://unpkg.com/clipboard@2.0.0/dist/clipboard.min.js"></script><script type="text/javascript" src="/js/code-blocks-buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/babel.svg" alt="Babel"/></a><a href="/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/en/next" target="_self">文档</a></li><li class=""><a href="/en/setup" target="_self">配置</a></li><li class=""><a href="/en/repl" target="_self">试用</a></li><li class=""><a href="/blog" target="_self">博客</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://opencollective.com/babel" target="_self">赞助</a></li><li class=""><a href="/en/team" target="_self">团队</a></li><li class=""><a href="https://github.com/babel/babel" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Tooling</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul><li class="navListItem"><a class="navItem" href="/docs/en/next">What is Babel?</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/usage">Usage Guide</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/configuration">Configure Babel</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/learn">Learn ES2015</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/v7-migration">Upgrade to Babel 7</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/v7-migration-api">Upgrade to Babel 7 (API)</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">General</h3><ul><li class="navListItem"><a class="navItem" href="/docs/en/next/editors">Editors</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/plugins">Plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/presets">Presets</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/caveats">Caveats</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/faq">FAQ</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/roadmap">Roadmap</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Usage</h3><ul><li class="navListItem"><a class="navItem" href="/docs/en/next/babelconfigjs">babel.config.js</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babelrc">.babelrc</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-cli">babel-cli</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-polyfill">babel-polyfill</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-plugin-transform-runtime">transform-runtime</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-register">babel-register</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Presets</h3><ul><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-env">env</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-stage-0">stage-0</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-stage-1">stage-1</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-stage-2">stage-2</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-stage-3">stage-3</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-flow">flow</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-react">react</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-minify">minify</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-preset-typescript">typescript</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tooling</h3><ul><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-parser">babel-parser</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/next/babel-core">babel-core</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-generator">babel-generator</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-code-frame">babel-code-frame</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-helpers">babel-helpers</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-runtime">babel-runtime</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-template">babel-template</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-traverse">babel-traverse</a></li><li class="navListItem"><a class="navItem" href="/docs/en/next/babel-types">babel-types</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/babel/website/blob/master/docs/core.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">babel-core</h1></header><article><div><span><pre><code class="hljs css languages- javascript"><span class="hljs-keyword">var</span> babel = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@babel/core"</span>);
<span class="hljs-keyword">import</span> { transform } <span class="hljs-keyword">from</span> <span class="hljs-string">"@babel/core"</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> babel <span class="hljs-keyword">from</span> <span class="hljs-string">"@babel/core"</span>;
</code></pre>
<p>All transformations will use your local configuration files (<code>.babelrc</code> or in <code>package.json</code>). See <a href="#options">options</a> to disable it.</p>
<h2><a class="anchor" aria-hidden="true" id="transform"></a><a href="#transform" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>transform</h2>
<blockquote>
<p>babel.transform(code: string, <a href="#options">options?</a>: Object, callback: Function)</p>
</blockquote>
<p>Transforms the passed in <code>code</code>. Calling a callback with an object with the generated code,
source map, and AST.</p>
<pre><code class="hljs css languages- js">babel.transform(code, options, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{
  result; <span class="hljs-comment">// =&gt; { code, map, ast }</span>
});
</code></pre>
<p><strong>Example</strong></p>
<pre><code class="hljs css languages- js">babel.transform(<span class="hljs-string">"code();"</span>, options, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{
  result.code;
  result.map;
  result.ast;
});
</code></pre>
<blockquote>
<p>Compat Note:</p>
<p>In Babel 6, this method was synchronous and <code>transformSync</code> did not exist. For backward-compatibility, this function will behave synchronously if no callback is given. If you're starting with Babel 7 and need synchronous behavior, please use <code>transformSync</code> since this backward-compat may be dropped in future major versions of Babel.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="transformsync"></a><a href="#transformsync" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>transformSync</h2>
<blockquote>
<p>babel.transformSync(code: string, <a href="#options">options?</a>: Object)</p>
</blockquote>
<p>Transforms the passed in <code>code</code>. Returning an object with the generated code,
source map, and AST.</p>
<pre><code class="hljs css languages- js">babel.transformSync(code, options) <span class="hljs-comment">// =&gt; { code, map, ast }</span>
</code></pre>
<p><strong>Example</strong></p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">var</span> result = babel.transformSync(<span class="hljs-string">"code();"</span>, options);
result.code;
result.map;
result.ast;
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="transformfile"></a><a href="#transformfile" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>transformFile</h2>
<blockquote>
<p>babel.transformFile(filename: string, <a href="#options">options?</a>: Object, callback: Function)</p>
</blockquote>
<p>Asynchronously transforms the entire contents of a file.</p>
<pre><code class="hljs css languages- js">babel.transformFile(filename, options, callback)
</code></pre>
<p><strong>Example</strong></p>
<pre><code class="hljs css languages- js">babel.transformFile(<span class="hljs-string">"filename.js"</span>, options, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, result</span>) </span>{
  result; <span class="hljs-comment">// =&gt; { code, map, ast }</span>
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="transformfilesync"></a><a href="#transformfilesync" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>transformFileSync</h2>
<blockquote>
<p>babel.transformFileSync(filename: string, <a href="#options">options?</a>: Object)</p>
</blockquote>
<p>Synchronous version of <code>babel.transformFile</code>. Returns the transformed contents of
the <code>filename</code>.</p>
<pre><code class="hljs css languages- js">babel.transformFileSync(filename, options) <span class="hljs-comment">// =&gt; { code, map, ast }</span>
</code></pre>
<p><strong>Example</strong></p>
<pre><code class="hljs css languages- js">babel.transformFileSync(<span class="hljs-string">"filename.js"</span>, options).code;
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="transformfromast"></a><a href="#transformfromast" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>transformFromAst</h2>
<blockquote>
<p>babel.transformFromAst(ast: Object, code?: string, <a href="#options">options?</a>: Object, callback: Function): FileNode | null</p>
</blockquote>
<p>Given an <a href="https://astexplorer.net/">AST</a>, transform it.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> sourceCode = <span class="hljs-string">"if (true) return;"</span>;
<span class="hljs-keyword">const</span> parsedAst = babel.parse(sourceCode, { <span class="hljs-attr">allowReturnOutsideFunction</span>: <span class="hljs-literal">true</span> });
babel.transformFromAst(parsedAst, sourceCode, options, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{
  <span class="hljs-keyword">const</span> { code, map, ast } = result;
});
</code></pre>
<blockquote>
<p>Compat Note:</p>
<p>In Babel 6, this method was synchronous and <code>transformFromAstSync</code> did not exist. For backward-compatibility, this function will behave synchronously if no callback is given. If you're starting with Babel 7 and need synchronous behavior, please use <code>transformFromAstSync</code> since this backward-compat may be dropped in future major versions of Babel.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="transformfromastsync"></a><a href="#transformfromastsync" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>transformFromAstSync</h2>
<blockquote>
<p>babel.transformFromAstSync(ast: Object, code?: string, <a href="#options">options?</a>: Object)</p>
</blockquote>
<p>Given an <a href="https://astexplorer.net/">AST</a>, transform it.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> sourceCode = <span class="hljs-string">"if (true) return;"</span>;
<span class="hljs-keyword">const</span> parsedAst = babel.parse(sourceCode, { <span class="hljs-attr">allowReturnOutsideFunction</span>: <span class="hljs-literal">true</span> });
<span class="hljs-keyword">const</span> { code, map, ast } = babel.transformFromAstSync(parsedAst, sourceCode, options);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="parse"></a><a href="#parse" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>parse</h2>
<blockquote>
<p>babel.parse(code: string, <a href="#options">options?</a>: Object)</p>
</blockquote>
<p>Given some code, parse it using Babel's standard behavior. Referenced presets and
plugins will be loaded such that optional syntax plugins are automatically
enabled.</p>
<h2><a class="anchor" aria-hidden="true" id="advanced-apis"></a><a href="#advanced-apis" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced APIs</h2>
<p>Many systems that wrap Babel like to automatically inject plugins and presets,
or override options. To accomplish this goal, Babel exposes several functions
that aid in loading the configuration part-way without transforming.</p>
<h3><a class="anchor" aria-hidden="true" id="loadoptions"></a><a href="#loadoptions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>loadOptions</h3>
<blockquote>
<p>babel.loadOptions(<a href="#options">options?</a>: Object)</p>
</blockquote>
<p>Resolve Babel's options fully, resulting in an options object where:</p>
<ul>
<li><code>opts.plugins</code> is a full list of <code>Plugin</code> instances.</li>
<li><code>opts.presets</code> is empty and all presets are flattened into <code>opts</code>.</li>
<li>It can be safely passed back to Babel. Fields like <code>babelrc</code> have been set to
false so that later calls to Babel will not make a second attempt to load
config files.</li>
</ul>
<p><code>Plugin</code> instances aren't meant to be manipulated directly, but often
callers will serialize this <code>opts</code> to JSON to use it as a cache key representing
the options Babel has received. Caching on this isn't 100% guaranteed to
invalidate properly, but it is the best we have at the moment.</p>
<h3><a class="anchor" aria-hidden="true" id="loadpartialconfig"></a><a href="#loadpartialconfig" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>loadPartialConfig</h3>
<blockquote>
<p>babel.loadPartialConfig(<a href="#options">options?</a>: Object): PartialConfig</p>
</blockquote>
<p>To allow systems to easily manipulate and validate a user's config, this function
resolves the plugins and presets and proceeds no further. The expectation is
that callers will take the config's <code>.options</code>, manipulate it as then see fit
and pass it back to Babel again.</p>
<ul>
<li><code>babelrc: string | void</code> - The path of the <code>.babelrc</code> file, if there was one.</li>
<li><code>babelignore: string | void</code> - The path of the <code>.babelignore</code> file, if there was one.</li>
<li><code>options: ValidatedOptions</code> - The partially resolved options, which can be manipulated and passed back to Babel again.
<ul>
<li><code>plugins: Array&lt;ConfigItem&gt;</code> - See below.</li>
<li><code>presets: Array&lt;ConfigItem&gt;</code> - See below.</li>
<li>It can be safely passed back to Babel. Fields like <code>babelrc</code> have been set
to false so that later calls to Babel will not make a second attempt to
load config files.</li>
</ul></li>
<li><code>hasFilesystemConfig(): boolean</code> - Check if the resolved config loaded any settings from the filesystem.</li>
</ul>
<p><a href="#configitem-type"><code>ConfigItem</code></a> instances expose properties to introspect the values, but each
item should be treated as immutable. If changes are desired, the item should be
removed from the list and replaced with either a normal Babel config value, or
with a replacement item created by <code>babel.createConfigItem</code>. See that
function for information about <code>ConfigItem</code> fields.</p>
<h3><a class="anchor" aria-hidden="true" id="createconfigitem"></a><a href="#createconfigitem" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>createConfigItem</h3>
<blockquote>
<p>babel.createConfigItem(value: string | {} | Function | [string | {} | Function, {} | void], { dirname?: string, type?: &quot;preset&quot; | &quot;plugin&quot; }): ConfigItem</p>
</blockquote>
<p>Allows build tooling to create and cache config items up front. If this function
is called multiple times for a given plugin, Babel will call the plugin's function itself
multiple times. If you have a clear set of expected plugins and presets to
inject, pre-constructing the config items would be recommended.</p>
<h3><a class="anchor" aria-hidden="true" id="configitem-type"></a><a href="#configitem-type" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>ConfigItem</code> type</h3>
<p>Each <code>ConfigItem</code> exposes all of the information Babel knows. The fields are:</p>
<ul>
<li><code>value: {} | Function</code> - The resolved value of the plugin.</li>
<li><code>options: {} | void</code> - The options object passed to the plugin.</li>
<li><code>dirname: string</code> - The path that the options are relative to.</li>
<li><code>name: string | void</code> - The name that the user gave the plugin instance, e.g. <code>plugins: [ ['env', {}, 'my-env'] ]</code></li>
<li><code>file: Object | void</code> - Information about the plugin's file, if Babel knows it.
<ul>
<li><code>request: string</code> - The file that the user requested, e.g. <code>&quot;@babel/env&quot;</code></li>
<li><code>resolved: string</code> - The full path of the resolved file, e.g. <code>&quot;/tmp/node_modules/@babel/preset-env/lib/index.js&quot;</code></li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="options"></a><a href="#options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h2>
<blockquote class="babel-callout babel-callout-info">
  <h4>Babel CLI</h4>
  <p>
    You can pass these options from the Babel CLI like so:
  </p>
  <p>
    <code>babel --option-name<span class="o">=</span>value</code>
  </p>
</blockquote>
<p>Following is a table of the options you can use:</p>
<table>
<thead>
<tr><th>Option</th><th>Default</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td><code>ast</code></td><td><code>false</code></td><td>Include the AST in the returned object</td></tr>
<tr><td><code>auxiliaryCommentAfter</code></td><td><code>null</code></td><td>Attach a comment after all non-user injected code</td></tr>
<tr><td><code>auxiliaryCommentBefore</code></td><td><code>null</code></td><td>Attach a comment before all non-user injected code</td></tr>
<tr><td><code>root</code></td><td><code>&quot;.&quot;</code></td><td>Specify the &quot;root&quot; folder that defines the location to search for &quot;babel.config.js&quot;, and the default folder to allow <code>.babelrc</code> files inside of.</td></tr>
<tr><td><code>configFile</code></td><td><code>undefined</code></td><td>The config file to load Babel's config from. Defaults to searching for &quot;babel.config.js&quot; inside the &quot;root&quot; folder. <code>false</code> will disable searching for config files.</td></tr>
<tr><td><code>babelrc</code></td><td><code>true</code></td><td>Specify whether or not to use .babelrc and .babelignore files. Not available when using the CLI, <a href="https://babeljs.io/docs/usage/cli/#babel-ignoring-babelrc">use <code>--no-babelrc</code> instead</a></td></tr>
<tr><td><code>babelrcRoots</code></td><td><code>(root)</code></td><td>Specify which packages should be search for .babelrc files when they are being compiled. <code>true</code> to <em>always</em> search, or a path string or an array of paths to packages to search inside of. Defaults to only searching the &quot;root&quot; package.</td></tr>
<tr><td><code>envName</code></td><td>env vars</td><td>Defaults to environment variable <code>BABEL_ENV</code> if set, or else <code>NODE_ENV</code> if set, or else it defaults to <code>&quot;development&quot;</code></td></tr>
<tr><td><code>code</code></td><td><code>true</code></td><td>Enable code generation</td></tr>
<tr><td><code>comments</code></td><td><code>true</code></td><td>Output comments in generated output</td></tr>
<tr><td><code>compact</code></td><td><code>&quot;auto&quot;</code></td><td>Do not include superfluous whitespace characters and line terminators. When set to <code>&quot;auto&quot;</code> compact is set to <code>true</code> on input sizes of &gt;500KB</td></tr>
<tr><td><code>cwd</code></td><td><code>.</code></td><td>The working directory that Babel's programmatic options are loaded relative to.</td></tr>
<tr><td><code>env</code></td><td><code>{}</code></td><td>This is an object of keys that represent different environments. For example, you may have: <code>{ env: { production: { /* specific options */ } } }</code> which will use those options when the <code>envName</code> is <code>production</code></td></tr>
<tr><td><code>extends</code></td><td><code>null</code></td><td>A path to a <code>.babelrc</code> file to extend</td></tr>
<tr><td><code>filename</code></td><td><code>&quot;unknown&quot;</code></td><td>Filename for use in errors etc</td></tr>
<tr><td><code>filenameRelative</code></td><td><code>(filename)</code></td><td>Filename relative to <code>sourceRoot</code></td></tr>
<tr><td><code>generatorOpts</code></td><td><code>{}</code></td><td>An object containing the options to be passed down to the babel code generator, @babel/generator</td></tr>
<tr><td><code>getModuleId</code></td><td><code>null</code></td><td>Specify a custom callback to generate a module id with. Called as <code>getModuleId(moduleName)</code>. If falsy value is returned then the generated module id is used</td></tr>
<tr><td><code>highlightCode</code></td><td><code>true</code></td><td>ANSI highlight syntax error code frames</td></tr>
<tr><td><code>ignore</code></td><td><code>null</code></td><td>Opposite to the <code>only</code> option. <code>ignore</code> is disregarded if <code>only</code> is specified</td></tr>
<tr><td><code>inputSourceMap</code></td><td><code>null</code></td><td>A source map object that the output source map will be based on</td></tr>
<tr><td><code>minified</code></td><td><code>false</code></td><td>Should the output be minified (not printing last semicolons in blocks, printing literal string values instead of escaped ones, stripping <code>()</code> from <code>new</code> when safe)</td></tr>
<tr><td><code>moduleId</code></td><td><code>null</code></td><td>Specify a custom name for module ids</td></tr>
<tr><td><code>moduleIds</code></td><td><code>false</code></td><td>If truthy, insert an explicit id for modules. By default, all modules are anonymous. (Not available for <code>common</code> modules)</td></tr>
<tr><td><code>moduleRoot</code></td><td><code>(sourceRoot)</code></td><td>Optional prefix for the AMD module formatter that will be prepend to the filename on module definitions</td></tr>
<tr><td><code>only</code></td><td><code>null</code></td><td>A <a href="https://github.com/isaacs/minimatch">glob</a>, regex, or mixed array of both, matching paths to <strong>only</strong> compile. Can also be an array of arrays containing paths to explicitly match. When attempting to compile a non-matching file it's returned verbatim</td></tr>
<tr><td><code>parserOpts</code></td><td><code>{}</code></td><td>An object containing the options to be passed down to the babel parser, @babel/parser</td></tr>
<tr><td><code>plugins</code></td><td><code>[]</code></td><td>List of <a href="https://babeljs.io/docs/plugins/">plugins</a> to load and use</td></tr>
<tr><td><code>presets</code></td><td><code>[]</code></td><td>List of <a href="https://babeljs.io/docs/plugins/#presets">presets</a> (a set of plugins) to load and use</td></tr>
<tr><td><code>retainLines</code></td><td><code>false</code></td><td>Retain line numbers. This will lead to wacky code but is handy for scenarios where you can't use source maps. (<strong>NOTE:</strong> This will not retain the columns)</td></tr>
<tr><td><code>shouldPrintComment</code></td><td><code>null</code></td><td>An optional callback that controls whether a comment should be output or not. Called as <code>shouldPrintComment(commentContents)</code>. <strong>NOTE:</strong> This overrides the <code>comment</code> option when used</td></tr>
<tr><td><code>sourceFileName</code></td><td><code>(filenameRelative)</code></td><td>Set <code>sources[0]</code> on returned source map</td></tr>
<tr><td><code>sourceMaps</code></td><td><code>false</code></td><td>If truthy, adds a <code>map</code> property to returned output. If set to <code>&quot;inline&quot;</code>, a comment with a sourceMappingURL directive is added to the bottom of the returned code. If set to <code>&quot;both&quot;</code> then a <code>map</code> property is returned as well as a source map comment appended. <strong>This does not emit sourcemap files by itself!</strong> To have sourcemaps emitted using the CLI, you must pass it the <code>--source-maps</code> option</td></tr>
<tr><td><code>sourceRoot</code></td><td><code>(moduleRoot)</code></td><td>The root from which all sources are relative</td></tr>
<tr><td><code>sourceType</code></td><td><code>&quot;module&quot;</code></td><td>Indicate the mode the code should be parsed in. Can be one of &quot;script&quot;, &quot;module&quot;, or &quot;unambiguous&quot;. <code>&quot;unambiguous&quot;</code> will make Babel attempt to <em>guess</em>, based on the presence of ES6 <code>import</code> or <code>export</code> statements. Files with ES6 <code>import</code>s and <code>export</code>s are considered <code>&quot;module&quot;</code> and are otherwise <code>&quot;script&quot;</code>.</td></tr>
<tr><td><code>wrapPluginVisitorMethod</code></td><td><code>null</code></td><td>An optional callback that can be used to wrap visitor methods. <strong>NOTE:</strong> This is useful for things like introspection, and not really needed for implementing anything. Called as <code>wrapPluginVisitorMethod(pluginAlias, visitorType, callback)</code>.</td></tr>
</tbody>
</table>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/next/babel-parser">← babel-parser</a><a class="docs-next button" href="/docs/en/next/babel-generator">babel-generator →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#transform">transform</a></li><li><a href="#transformsync">transformSync</a></li><li><a href="#transformfile">transformFile</a></li><li><a href="#transformfilesync">transformFileSync</a></li><li><a href="#transformfromast">transformFromAst</a></li><li><a href="#transformfromastsync">transformFromAstSync</a></li><li><a href="#parse">parse</a></li><li><a href="#advanced-apis">Advanced APIs</a><ul class="toc-headings"><li><a href="#loadoptions">loadOptions</a></li><li><a href="#loadpartialconfig">loadPartialConfig</a></li><li><a href="#createconfigitem">createConfigItem</a></li><li><a href="#configitem-type"><code>ConfigItem</code> type</a></li></ul></li><li><a href="#options">Options</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/babel.svg" alt="Babel" width="66" height="58"/></a><div><h5>文档</h5><a href="/docs/en/learn.html">学习 ES2015</a></div><div><h5>社区</h5><a href="/en/users.html">用户</a><a href="http://stackoverflow.com/questions/tagged/babeljs" rel="noopener noreferrer" target="_blank">Stack Overflow</a><a href="https://babeljs.slack.com/">Slack 通道</a><a href="https://twitter.com/babeljs" rel="noopener noreferrer" target="_blank">Twitter</a></div><div><h5>更多</h5><a href="/blog">博客</a><a href="https://github.com/babel">GitHub Org</a><a href="https://github.com/babel/babel">GitHub Repo</a><a href="https://github.com/babel/website">Website Repo</a><a href="https://old.babeljs.io"> 旧版网址 6.x </a><a href="http://henryzoo.com/babel.github.io">旧版网址 5.x </a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: 'd42906b043c5422ea07b44fd49c40a0d',
                indexName: 'babeljs',
                inputSelector: '#search_input_react'
              });
            </script></body></html>